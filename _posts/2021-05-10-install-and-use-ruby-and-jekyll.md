---
title: "Ruby and Jekyll?!"
layout: post
tag: jekyll
---

- Install Ruby and Jekyll
- Use Github desktop to upload post

<!--more-->

In most cases, a single page is not enough for a personal website. To build a more structurally sophisticated GitHub pages, you need to use **Jekyll** which runs on **Ruby**. I never played with Ruby before, so I simply follow every single step exactly as they said. Here is a record of my first Jekyll journey.

## Clone the github.io repository

This part was quite easy. Basically you just need to download and install GitHub desktop. It serves as a sync software like dropbox or nutstore, so that any change you modified on your local files can be sync to the files online (they call it **origin**). So, run GitHub desktop and click "**Clone a repository from the Internet**". Choose the repository and set a local path. Press **Clone** and wait for it to download the two files. Now close GitHub desktop.

## Install Ruby and Jekyll

First download and install [Ruby](https://rubyinstaller.org/downloads/) . I don't know which version to use, so I just install the recommended one. It takes quite a while to install, somehow like when I install anaconda. Maybe it needs to integrate the environment? I don't even know what that means. Anyway, we now have three Ruby icons in the start menu. Run **Start Command Prompt with Ruby**. Now type `gem install jekyll bundler` to install Jekyll (it takes a while). Next focus to the local folder containing the repository. Type `jekyll new . --force` and press enter. This will add many files to the local folder:

- `404.html` default error page?
- `index.md` original generated by GitHub. I deleted it.
- `index.markdown` is the new index page
- `about.markdown` is a sample page
- `_posts` some sample blog posts
- `_config.yml` configure the site title, description, etc.

## Preview local page in browser

With the local folder still focused in Ruby, type `bundle exec jekyll serve` and keep Ruby running. Now open the web browser and go to `127.0.0.1:4000` to preview the page. This feels much like when I run Jupyter notebook, you need to keep the Command Prompt running when you're messing around in the web browser. Notice that any changes made to `_config.yml` cannot be reflected in real time when you refresh the local page. To see the changes, you need to restart the session, by first pressing **Ctrl-C**, then **Y**, **Y**, then type again `bundle exec jekyll serve` 

Now, the `index.markdown` is the "**Homepage**", and the you can add/modify the `about.markdown` to create your own pages, these will display links on the top navigation bar. For example, if I need a page to put my CV, I just create a new `cv.markdown` file in the root folder, open it and type the following YAML front matter and write the below content with markdown:

```yaml
---
layout: page # this specify page type
title: CV # also appears in nav bar 
permalink: /cv/
---
```

In terms of blog post inside the `_post` folder, you must name the md file in the format of `yyyy-mm-dd-filename.md` and the filename part can be a string without space like `0001` or `this-is-my-first-post`. I think it maybe helpful to repeat the post title in the filename, because it will be modified to the URL of that post, and should at least be informative. The YAML front matter for posts is:

``` yaml
---
layout: post
title: "Title of this post"
categories: coding
---
```



You can refresh and preview the local pages at `127.0.0.1:4000` in the web browser. Then, when everything is ready, simply run GitHub desktop, all the changes will be highlighted. (Now I get to understand why developers love GitHub). You need to type some text in **summary(required)** field before you can press **Commit to main**. Finally click push origin to upload the local files to the GitHub repository. It may take a while before the online site is updated.